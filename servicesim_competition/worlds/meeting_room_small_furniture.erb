<%
  # Small meeting room furniture template
  #
  # Required variables
  # * $o (number) length of an office unit
  # * $pi (number)
%>

<include>
  <pose>
    <%= 0.3*$o %>
    <%= -1.4*$o %>
    0
    0
    0
    0
  </pose>
  <uri>model://conference_table_small</uri>
</include>

<include>
  <pose>
    <%= -1.5*$o %>
    <%= -1.4*$o %>
    0
    0
    0
    <%= $pi*0.5 %>
  </pose>
  <uri>model://whiteboard</uri>
</include>

<%
  for x in (0..2)
    for y in [-1.2*$o, -0.6*$o]
      yaw = y == -0.6 * $o ? 0.0 : $pi
      yaw += rand(-0.15..0.15)
      y += rand(-0.05..0.05)
%>
  <include>
    <name>chair_<%= x %>_<%= y %></name>
    <pose>
      <%= x * $o * 0.6 - 0.15 %>
      <%= y * $o %>
      0
      0
      0
      <%= yaw %>
    </pose>
    <uri>model://desk_chair</uri>
  </include>
  <% end %>
<% end %>

